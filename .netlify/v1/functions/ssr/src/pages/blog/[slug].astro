---
import { getCollection } from "astro:content";
const posts = await getCollection("posts");
const { slug } = Astro.params;

// Find the post with the matching slug
const post = posts.find((post) => post.slug === slug);
---

{
  post ? (
    <div>
      <h1>{post.data.title}</h1>
      <img src={post.data.source} alt={post.data.title} />
      <p>{post.body}</p>
    </div>
  ) : (
    <p>Post not found</p>
  )
}
